@page "/shipments"
@using ShipmentTracker.Models.Common
@using ShipmentTracker.Web.Components
@using Microsoft.AspNetCore.Components.Routing

<section class="hero">
	<div class="hero-body">
		<h1 class="title">Shipments</h1>
	</div>
</section>

<Grid GetQuery="@(GetQuery)">
	<ItemTemplate Context="shipment">
		<div class="is-position-relative">
			<span class="icon is-medium">
				@(ShipmentSourceIcon.Component(shipment.Source))
			</span>

			<h2 class="title is-5">@(shipment.Sender ?? "Unknown")</h2>

			@if (shipment.State == ShipmentState.Delivered)
			{
				<p>Received on: @(shipment.Arrived.ToString("f"))</p>
			}
			else
			{
				@* @todo Localize properly *@
				<p>Current status: @(shipment.State.ToString())</p>
				<p>Added on: @(shipment.Created.ToString("D"))</p>
			}

			<NavLink href="@(Urls.GetTrackingUrl(in shipment))" class="stretched-link">
			</NavLink>
		</div>
	</ItemTemplate>
</Grid>
