@using Elegance.Icons
@using ShipmentTracker.Models.Common

<button type="button"
        class="button"
        title="@(userShipment.Subscribed ? "Unsubscribe from shipment" : "Subscribe to shipment")"
        @onclick="@(ToggleSubscriptionAsync)">
	<span class="icon is-small">
		@(userShipment.Subscribed ? Icons.UserCheck : Icons.UserPlus)
	</span>
</button>

@if (!workflowRunning && (Shipment.State != ShipmentState.Delivered))
{
	<button type="button"
	        title="Start background process"
	        @onclick="@(StartWorkflowAsync)">
		@(Icons.Automation)
	</button>
}

@if (nextUpdate != default)
{
	<div>
		<p>Next update: @(nextUpdate.ToString("g"))</p>
	</div>
}

