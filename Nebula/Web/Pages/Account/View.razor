@page "/account"
@using Microsoft.AspNetCore.Components.Forms
@using Nebula.Web.Components

<PageTitle>@(Localizer["title"])</PageTitle>

<section class="hero">
	<div class="hero-body">
		<h1 class="title">@(Localizer["title"])</h1>
	</div>
</section>

<EditForm Model="@(Model)" OnValidSubmit="@(UpdateAsync)" FormName="@View.formName">
	<DataAnnotationsValidator />

	<div class="field">
		<label for="email" class="label">
			@(Localizer["fields.email"])
		</label>
		<div class="control">
			<InputText @bind-Value="@(Model.Email)"
			           id="email"
			           type="email"
			           class="input"
			           autocomplete="email"
			           aria-required="true"
			           aria-describedby="email-error"
			           required />
		</div>
		<ValidationMessage For="@(() => Model.Email)" id="email-error" class="help is-danger" />
	</div>

	<div class="field">
		<label for="password" class="label">
			@(Localizer["fields.password"])
		</label>
		<div class="control">
			<InputText @bind-Value="@(Model.Password)"
			           type="password"
			           id="password"
			           class="input"
			           autocomplete="new-password"
			           aria-describedby="password-error" />
		</div>
		<ValidationMessage For="@(() => Model.Password)" id="password-error" class="help is-danger" />
	</div>

	<div class="field">
		<label for="password-confirmation" class="label">
			@(Localizer["fields.password-confirmation"])
		</label>
		<div class="control">
			<InputText @bind-Value="@(Model.PasswordConfirmation)"
			           type="password"
			           id="password-confirmation"
			           class="input"
			           autocomplete="new-password"
			           aria-describedby="password-confirmation-error" />
		</div>
		<ValidationMessage For="@(() => Model.PasswordConfirmation)"
		                   id="password-confirmation-error"
		                   class="help is-danger" />
	</div>

	<div class="field">
		<label for="culture" class="label">
			@(Localizer["fields.culture"])
		</label>
		<div class="control">
			<InputCulture @bind-Value="@(Model.Culture)"
			              id="culture"
			              class="input"
			              aria-describedby="culture-help" />
		</div>
		<p id="culture-help" class="help">@(Localizer["fields.culture.help"])</p>
		<ValidationMessage For="@(() => Model.Culture)"
		                   id="culture-error"
		                   class="help is-danger" />
	</div>

	<div class="field">
		<label for="ui-culture" class="label">
			@(Localizer["fields.ui-culture"])
		</label>
		<div class="control">
			<InputCulture @bind-Value="@(Model.UiCulture)"
			              id="ui-culture"
			              class="input"
			              aria-describedby="ui-culture-help" />
		</div>
		<p id="ui-culture-help" class="help">@(Localizer["fields.ui-culture.help"])</p>
		<ValidationMessage For="@(() => Model.UiCulture)"
		                   id="ui-culture-error"
		                   class="help is-danger" />
	</div>

	<div class="field">
		<label for="timeZone" class="label">
			@(Localizer["fields.timeZone"])
		</label>
		<div class="control">
			<InputTimeZone @bind-Value="@(Model.TimeZone)"
			               id="timeZone"
			               class="input"
			               aria-describedby="timeZone-help" />
		</div>
		<p id="timeZone-help" class="help">@(Localizer["fields.timeZone.help"])</p>
		<ValidationMessage For="@(() => Model.TimeZone)"
		                   id="timeZone-error"
		                   class="help is-danger" />
	</div>

	<button type="submit" class="button is-primary">
		@(Localizer["submit"])
	</button>
</EditForm>

